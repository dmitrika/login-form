(this["webpackJsonplogin-form"]=this["webpackJsonplogin-form"]||[]).push([[0],{14:function(e,r,t){},16:function(e,r,t){"use strict";t.r(r);var a=t(0),n=t(1),s=t.n(n),o=t(7),c=t.n(o),i=(t(14),t(3)),l=t(4),u=t(2),m={email:"",password:"",formError:""};function d(e){var r=e.API,t=e.setCurrentPage,s=Object(n.useState)({email:"",password:""}),o=Object(i.a)(s,2),c=o[0],d=o[1],j=Object(n.useState)(m),p=Object(i.a)(j,2),f=p[0],O=p[1],h=Object(n.useState)(!1),g=Object(i.a)(h,2),w=g[0],x=g[1],v=function(e){var r=e.target.name;f[r]&&O(Object(u.a)(Object(u.a)({},f),{},Object(l.a)({},r,void 0)))},_=function(e){var r=e.target,t=r.value,a=r.name;d(Object(u.a)(Object(u.a)({},c),{},Object(l.a)({},a,t)))};return Object(a.jsxs)("main",{className:"paper",children:[Object(a.jsx)("h1",{className:"title",children:"Log in to Account"}),Object(a.jsxs)("form",{action:"/login",method:"POST",onSubmit:function(e){e.preventDefault(),x(!0),r.login(c).then((function(){t(b.welcome)})).catch((function(e){O(Object(u.a)(Object(u.a)({},m),e)),x(!1)}))},children:[Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("label",{htmlFor:"email",className:"field__label",children:"Email"}),Object(a.jsx)("input",{id:"email",required:"required",type:"email",name:"email",placeholder:"e.g. rybin@hey.com",autoCorrect:"off",autoCapitalize:"off",autoFocus:!0,value:c.email,onChange:_,onFocus:v,className:"field__input ".concat(f.email?"field__input--error":void 0)}),f.email&&Object(a.jsx)("span",{className:"field__error",children:f.email})]}),Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("label",{htmlFor:"password",className:"field__label",children:"Password"}),Object(a.jsx)("input",{id:"password",required:"required",type:"password",name:"password",placeholder:"e.g. password",autoComplete:"current-password",autoCorrect:"off",autoCapitalize:"off",value:c.password,onChange:_,onFocus:v,className:"field__input ".concat(f.password?"field__input--error":void 0)}),f.password&&Object(a.jsx)("span",{className:"field__error",children:f.password})]}),Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("input",{type:"submit",name:"commit",value:w?"Loading...":"Log in",disabled:w,className:"btn"}),f.formError&&Object(a.jsx)("span",{className:"field__error",children:f.formError})]})]})]})}function j(e){var r=e.setCurrentPage;return Object(a.jsxs)("main",{className:"paper",children:[Object(a.jsx)("h1",{className:"title",children:"Welcome to your space"}),Object(a.jsx)("button",{onClick:function(){return r("login")},className:"btn",children:"Log out"})]})}var b={login:"login",welcome:"welcome"};function p(e){var r=e.API,t=Object(n.useState)(b.login),s=Object(i.a)(t,2),o=s[0],c=s[1];return Object(a.jsxs)(a.Fragment,{children:[o===b.login&&Object(a.jsx)(d,{API:r,setCurrentPage:c}),o===b.welcome&&Object(a.jsx)(j,{setCurrentPage:c})]})}var f=t(6),O=t.n(f),h=t(8),g={login:function(e){return Object(h.a)(O.a.mark((function r(){var t,a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.email,a=e.password,r.next=3,w(500);case 3:if("formError@hey.com"!==t){r.next=5;break}return r.abrupt("return",Promise.reject({formError:"Try again tomorrow"}));case 5:if("rybin@hey.com"===t){r.next=7;break}return r.abrupt("return",Promise.reject({email:"Email is not found"}));case 7:if("password"===a){r.next=9;break}return r.abrupt("return",Promise.reject({password:"Password is not correct"}));case 9:return r.abrupt("return",Promise.resolve());case 10:case"end":return r.stop()}}),r)})))()}};function w(e){return new Promise((function(r){return setTimeout(r,e)}))}c.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(p,{API:g})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.af6e80cf.chunk.js.map