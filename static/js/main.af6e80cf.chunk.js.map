{"version":3,"sources":["pages/login.js","pages/welcome.js","app.js","api.js","index.js"],"names":["initialFormErrorsState","email","password","formError","Login","API","setCurrentPage","useState","userInfo","setUserInfo","formErrors","setFormErrors","isLoading","setIsLoading","handleFieldFocus","event","name","target","undefined","handleFieldChange","value","className","action","method","onSubmit","preventDefault","login","then","pages","welcome","catch","errors","htmlFor","id","required","type","placeholder","autoCorrect","autoCapitalize","autoFocus","onChange","onFocus","autoComplete","disabled","Welcome","onClick","App","currentPage","sleep","Promise","reject","resolve","ms","setTimeout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mNAIMA,EAAyB,CAC7BC,MAAO,GACPC,SAAU,GACVC,UAAW,IAGN,SAASC,EAAT,GAAyC,IAAxBC,EAAuB,EAAvBA,IAAKC,EAAkB,EAAlBA,eAAkB,EACbC,mBAAS,CAAEN,MAAO,GAAIC,SAAU,KADnB,mBACtCM,EADsC,KAC5BC,EAD4B,OAETF,mBAASP,GAFA,mBAEtCU,EAFsC,KAE1BC,EAF0B,OAGXJ,oBAAS,GAHE,mBAGtCK,EAHsC,KAG3BC,EAH2B,KAKvCC,EAAmB,SAACC,GAAW,IAEvBC,EACRD,EADFE,OAAUD,KAGRN,EAAWM,IACbL,EAAc,2BACTD,GADQ,kBAEVM,OAAOE,MAKRC,EAAoB,SAACJ,GAAW,IAAD,EAG/BA,EADFE,OAAUG,EAFuB,EAEvBA,MAAOJ,EAFgB,EAEhBA,KAGnBP,EAAY,2BACPD,GADM,kBAERQ,EAAOI,MAmBZ,OACE,uBAAMC,UAAU,QAAhB,UACE,oBAAIA,UAAU,QAAd,+BACA,uBAAMC,OAAO,SAASC,OAAO,OAAOC,SAlBf,SAACT,GACxBA,EAAMU,iBAENZ,GAAa,GAEbR,EAAIqB,MAAMlB,GACPmB,MAAK,WACJrB,EAAesB,EAAMC,YAEtBC,OAAM,SAACC,GACNpB,EAAc,2BAAKX,GAA2B+B,IAC9ClB,GAAa,OAOf,UACE,sBAAKQ,UAAU,QAAf,UACE,uBAAOW,QAAQ,QAAQX,UAAU,eAAjC,mBAGA,uBACEY,GAAG,QACHC,SAAS,WACTC,KAAK,QACLnB,KAAK,QACLoB,YAAY,qBACZC,YAAY,MACZC,eAAe,MACfC,WAAS,EACTnB,MAAOZ,EAASP,MAChBuC,SAAUrB,EACVsB,QAAS3B,EACTO,UAAS,uBACPX,EAAWT,MAAQ,2BAAwBiB,KAG9CR,EAAWT,OACV,sBAAMoB,UAAU,eAAhB,SAAgCX,EAAWT,WAI/C,sBAAKoB,UAAU,QAAf,UACE,uBAAOW,QAAQ,WAAWX,UAAU,eAApC,sBAGA,uBACEY,GAAG,WACHC,SAAS,WACTC,KAAK,WACLnB,KAAK,WACLoB,YAAY,gBACZM,aAAa,mBACbL,YAAY,MACZC,eAAe,MACflB,MAAOZ,EAASN,SAChBsC,SAAUrB,EACVsB,QAAS3B,EACTO,UAAS,uBACPX,EAAWR,SAAW,2BAAwBgB,KAGjDR,EAAWR,UACV,sBAAMmB,UAAU,eAAhB,SAAgCX,EAAWR,cAI/C,sBAAKmB,UAAU,QAAf,UACE,uBACEc,KAAK,SACLnB,KAAK,SACLI,MAAOR,EAAY,aAAe,SAClC+B,SAAU/B,EACVS,UAAU,QAEXX,EAAWP,WACV,sBAAMkB,UAAU,eAAhB,SAAgCX,EAAWP,qBCrHhD,SAASyC,EAAT,GAAsC,IAAnBtC,EAAkB,EAAlBA,eACxB,OACE,uBAAMe,UAAU,QAAhB,UACE,oBAAIA,UAAU,QAAd,mCACA,wBAAQwB,QAAS,kBAAMvC,EAAe,UAAUe,UAAU,MAA1D,wBCCC,IAAMO,EAAQ,CAAEF,MAAO,QAASG,QAAS,WAEjC,SAASiB,EAAT,GAAuB,IAARzC,EAAO,EAAPA,IAAO,EACGE,mBAASqB,EAAMF,OADlB,mBAC5BqB,EAD4B,KACfzC,EADe,KAGnC,OACE,qCACGyC,IAAgBnB,EAAMF,OACrB,cAACtB,EAAD,CAAOC,IAAKA,EAAKC,eAAgBA,IAElCyC,IAAgBnB,EAAMC,SACrB,cAACe,EAAD,CAAStC,eAAgBA,O,2BChBpBD,EAAM,CACXqB,MADW,YACiB,OAAD,mHAAnBzB,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SAAY,SAEzB8C,EAAM,KAFmB,UAIjB,sBAAV/C,EAJ2B,yCAKtBgD,QAAQC,OAAO,CAAE/C,UAAW,wBALN,UAQjB,kBAAVF,EAR2B,yCAStBgD,QAAQC,OAAO,CAAEjD,MAAO,wBATF,UAYd,aAAbC,EAZ2B,yCAatB+C,QAAQC,OAAO,CAAEhD,SAAU,6BAbL,gCAgBxB+C,QAAQE,WAhBgB,gDAoBnC,SAASH,EAAMI,GACb,OAAO,IAAIH,SAAQ,SAACE,GAAD,OAAaE,WAAWF,EAASC,MCftDE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACV,EAAD,CAAKzC,IAAKA,MAEZoD,SAASC,eAAe,W","file":"static/js/main.af6e80cf.chunk.js","sourcesContent":["import { useState } from \"react\";\n\nimport { pages } from \"../app\";\n\nconst initialFormErrorsState = {\n  email: \"\",\n  password: \"\",\n  formError: \"\",\n};\n\nexport function Login({ API, setCurrentPage }) {\n  const [userInfo, setUserInfo] = useState({ email: \"\", password: \"\" });\n  const [formErrors, setFormErrors] = useState(initialFormErrorsState);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleFieldFocus = (event) => {\n    const {\n      target: { name },\n    } = event;\n\n    if (formErrors[name]) {\n      setFormErrors({\n        ...formErrors,\n        [name]: undefined,\n      });\n    }\n  };\n\n  const handleFieldChange = (event) => {\n    const {\n      target: { value, name },\n    } = event;\n\n    setUserInfo({\n      ...userInfo,\n      [name]: value,\n    });\n  };\n\n  const handleFormSubmit = (event) => {\n    event.preventDefault();\n\n    setIsLoading(true);\n\n    API.login(userInfo)\n      .then(() => {\n        setCurrentPage(pages.welcome);\n      })\n      .catch((errors) => {\n        setFormErrors({ ...initialFormErrorsState, ...errors });\n        setIsLoading(false);\n      });\n  };\n\n  return (\n    <main className=\"paper\">\n      <h1 className=\"title\">Log in to Account</h1>\n      <form action=\"/login\" method=\"POST\" onSubmit={handleFormSubmit}>\n        <div className=\"field\">\n          <label htmlFor=\"email\" className=\"field__label\">\n            Email\n          </label>\n          <input\n            id=\"email\"\n            required=\"required\"\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"e.g. rybin@hey.com\"\n            autoCorrect=\"off\"\n            autoCapitalize=\"off\"\n            autoFocus\n            value={userInfo.email}\n            onChange={handleFieldChange}\n            onFocus={handleFieldFocus}\n            className={`field__input ${\n              formErrors.email ? \"field__input--error\" : undefined\n            }`}\n          />\n          {formErrors.email && (\n            <span className=\"field__error\">{formErrors.email}</span>\n          )}\n        </div>\n\n        <div className=\"field\">\n          <label htmlFor=\"password\" className=\"field__label\">\n            Password\n          </label>\n          <input\n            id=\"password\"\n            required=\"required\"\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"e.g. password\"\n            autoComplete=\"current-password\"\n            autoCorrect=\"off\"\n            autoCapitalize=\"off\"\n            value={userInfo.password}\n            onChange={handleFieldChange}\n            onFocus={handleFieldFocus}\n            className={`field__input ${\n              formErrors.password ? \"field__input--error\" : undefined\n            }`}\n          />\n          {formErrors.password && (\n            <span className=\"field__error\">{formErrors.password}</span>\n          )}\n        </div>\n\n        <div className=\"field\">\n          <input\n            type=\"submit\"\n            name=\"commit\"\n            value={isLoading ? \"Loading...\" : \"Log in\"}\n            disabled={isLoading}\n            className=\"btn\"\n          />\n          {formErrors.formError && (\n            <span className=\"field__error\">{formErrors.formError}</span>\n          )}\n        </div>\n      </form>\n    </main>\n  );\n}\n","export function Welcome({ setCurrentPage }) {\n  return (\n    <main className=\"paper\">\n      <h1 className=\"title\">Welcome to your space</h1>\n      <button onClick={() => setCurrentPage(\"login\")} className=\"btn\">\n        Log out\n      </button>\n    </main>\n  );\n}\n","import { useState } from \"react\";\n\nimport { Login } from \"./pages/login\";\nimport { Welcome } from \"./pages/welcome\";\n\nexport const pages = { login: \"login\", welcome: \"welcome\" };\n\nexport default function App({ API }) {\n  const [currentPage, setCurrentPage] = useState(pages.login);\n\n  return (\n    <>\n      {currentPage === pages.login && (\n        <Login API={API} setCurrentPage={setCurrentPage} />\n      )}\n      {currentPage === pages.welcome && (\n        <Welcome setCurrentPage={setCurrentPage} />\n      )}\n    </>\n  );\n}\n","export const API = {\n  async login({ email, password }) {\n    // Simulate network delay\n    await sleep(500);\n\n    if (email === \"formError@hey.com\") {\n      return Promise.reject({ formError: \"Try again tomorrow\" });\n    }\n\n    if (email !== \"rybin@hey.com\") {\n      return Promise.reject({ email: \"Email is not found\" });\n    }\n\n    if (password !== \"password\") {\n      return Promise.reject({ password: \"Password is not correct\" });\n    }\n\n    return Promise.resolve();\n  },\n};\n\nfunction sleep(ms) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./app\";\n\nimport { API } from \"./api\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App API={API} />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}